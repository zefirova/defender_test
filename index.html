<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–¢–µ—Å—Ç: ¬´–ù–∞—Å—Ç–æ—è—â–∏–π –ª–∏ —Ç—ã –ó–∞—â–∏—Ç–Ω–∏–∫? (–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ª—é–±–∏—à—å –ø–æ–∫—É—à–∞—Ç—å?)¬ª</title>
  <style>
    :root{
      --bg:#0b1220;
      --text:#eaf0ff;
      --muted:#b8c2e0;
      --accent:#7dd3fc;
      --accent2:#a78bfa;
      --btn:#1b2a4a;
      --btnHover:#233861;
      --shadow: 0 12px 40px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(125,211,252,.18), transparent 55%),
        radial-gradient(1000px 700px at 90% 20%, rgba(167,139,250,.16), transparent 55%),
        radial-gradient(900px 700px at 50% 90%, rgba(52,211,153,.10), transparent 55%),
        var(--bg);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .wrap{width:min(880px, 100%)}
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    header{padding:22px 22px 0 22px}
    h1{margin:0;font-size:clamp(22px,3vw,30px);letter-spacing:.2px}
    .subtitle{margin:10px 0 0;color:var(--muted);line-height:1.45}

    .topbar{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:0 22px 18px;color:var(--muted);font-size:14px;
    }
    .pill{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.08);
      border-radius:999px;
      white-space:nowrap;
    }
    .progress{width:220px;height:8px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden}
    .progress>div{
      height:100%;width:0%;
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      transition:width .25s ease;
      border-radius:999px;
    }

    .content{padding:22px;display:grid;gap:18px}
    .page{display:none}
    .page.active{display:block}

    .imgbox{
      width:100%;
      aspect-ratio: 16 / 7;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
      display:flex;
      align-items:center;
      justify-content:center;
      color:rgba(255,255,255,.35);
      user-select:none;
    }
    .imgbox img{width:100%;height:100%;object-fit:cover;display:block}

    .qtitle{font-size:18px;margin:0;line-height:1.35}
    .answers{display:grid;gap:10px;margin-top:6px}

    button{
      border:1px solid rgba(255,255,255,.10);
      background:var(--btn);
      color:var(--text);
      padding:14px;
      border-radius:14px;
      cursor:pointer;
      text-align:left;
      font-size:16px;
      line-height:1.35;
      transition: transform .06s ease, background .15s ease, border-color .15s ease;
    }
    button:hover{background:var(--btnHover);border-color: rgba(255,255,255,.18)}
    button:active{transform: translateY(1px)}

    .primary{
      text-align:center;
      font-weight:700;
      background:linear-gradient(90deg,rgba(125,211,252,.22),rgba(167,139,250,.22));
      border-color: rgba(255,255,255,.16);
    }
    .ghost{background:rgba(255,255,255,.04)}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}

    .resultBox{
      padding:16px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
      line-height:1.55;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">

      <header>
        <h1>–¢–µ—Å—Ç: ¬´–ù–∞—Å—Ç–æ—è—â–∏–π –ª–∏ —Ç—ã –ó–∞—â–∏—Ç–Ω–∏–∫? (–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ª—é–±–∏—à—å –ø–æ–∫—É—à–∞—Ç—å?)¬ª ü™ñüçó</h1>
        <p class="subtitle">
          –û—Ç–≤–µ—á–∞–π —á–µ—Å—Ç–Ω–æ, –ø—Ä–∏—Å–ª—É—à–∏–≤–∞—è—Å—å –∫ –∑–æ–≤—É —Å–µ—Ä–¥—Ü–∞ (–∏ —É—Ä—á–∞–Ω–∏—é –≤ –∂–∏–≤–æ—Ç–µ).
        </p>
      </header>

      <div class="topbar">
        <div class="pill">
          <span id="stepLabel">–°—Ç–∞—Ä—Ç</span>
          <div class="progress" aria-hidden="true"><div id="progressBar"></div></div>
        </div>
        <div class="pill"><span id="navHint">–ù–∞–∂–º–∏ ¬´–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç¬ª</span></div>
      </div>

      <div class="content">
        <!-- INTRO -->
        <section class="page active" id="page-intro">
          <div class="imgbox" aria-label="–û–±–ª–æ–∂–∫–∞">
            <img src="images/cover.png" alt="–û–±–ª–æ–∂–∫–∞ —Ç–µ—Å—Ç–∞"
                 onerror="this.style.display='none'; this.parentElement.textContent='üñºÔ∏è –î–æ–±–∞–≤—å images/cover.png (–æ–±–ª–æ–∂–∫–∞)'; this.parentElement.style.color='rgba(255,255,255,.45)';">
          </div>

          <div class="resultBox">
            <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong>
            <ul>
              <li>–í—ã–±–∏—Ä–∞–π –ø–æ –æ–¥–Ω–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É –≤ –∫–∞–∂–¥–æ–º –≤–æ–ø—Ä–æ—Å–µ.</li>
              <li>–ë–∞–ª–ª—ã —Å—á–∏—Ç–∞—é—Ç—Å—è <strong>–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º</strong>.</li>
              <li>–í –∫–æ–Ω—Ü–µ –ø–æ–∫–∞–∂–µ–º —Ç–≤–æ—é ¬´–±–æ–µ–≤—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é¬ª üòÑ</li>
            </ul>
          </div>

          <div class="actions">
            <button class="primary" id="startBtn">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
          </div>
        </section>

        <!-- QUESTIONS -->
        <div id="pages"></div>

        <!-- RESULT -->
        <section class="page" id="page-result">
          <div class="imgbox" id="resultImgBox">
            <img id="resultImg" src="" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞">
          </div>

          <h2 class="qtitle" id="resultTitle">–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
          <div class="resultBox" id="resultText"></div>

          <div class="actions">
            <button class="primary" id="restartBtn">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
            <button class="ghost" id="shareBtn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
          </div>
        </section>
      </div>

    </div>
  </div>

<script>
  // --- DATA ---
  // –í–∞—Ä–∏–∞–Ω—Ç—ã –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö –∏–¥—É—Ç –≤ –ø–æ—Ä—è–¥–∫–µ: 3,2,1,0 –±–∞–ª–ª–æ–≤ (–ø–µ—Ä–≤—ã–π/–≤—Ç–æ—Ä–æ–π/—Ç—Ä–µ—Ç–∏–π/—á–µ—Ç–≤—ë—Ä—Ç—ã–π)
  const questions = [
    {
      img: "images/01.png",
      text: "1. –ù–∞—Å—Ç–æ—è—â–∏–π –∑–∞—â–∏—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–º. –¢–≤–æ–π —Ä–µ–∂–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫?",
      answers: [
        { points: 3, text: "–∞) –ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ ‚Äî –ø—Ä–æ–±–µ–∂–∫–∞, —Ç—É—Ä–Ω–∏–∫, —Ö–æ–ª–æ–¥–Ω—ã–π –¥—É—à." },
        { points: 2, text: "–±) –¢—Ä–µ–Ω–∞–∂–µ—Ä–Ω—ã–π –∑–∞–ª 3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é." },
        { points: 1, text: "–≤) –ü–æ–¥—ä–µ–º –¥–∏–≤–∞–Ω–∞ –≤ –ø–æ–∏—Å–∫–∞—Ö –ø—É–ª—å—Ç–∞ ‚Äî —É–∂–µ –∫–∞—Ä–¥–∏–æ." },
        { points: 0, text: "–≥) –Ø –∫–∞—á–∞—é —Ç–æ–ª—å–∫–æ –º—ã—à—Ü—ã —É–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞–ª—å—Ü–∞ ‚Äî –Ω–∞–∂–∏–º–∞—é –∫–Ω–æ–ø–∫–∏ –º—ã—à–∏." }
      ]
    },
    {
      img: "images/02.png",
      text: "2. –í—Ä–∞–≥ –Ω–µ —Å–ø–∏—Ç! –ù–æ—á–Ω–æ–π —à–æ—Ä–æ—Ö –Ω–∞ –∫—É—Ö–Ω–µ. –¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è?",
      answers: [
        { points: 3, text: "–∞) –ë–µ—Å—à—É–º–Ω–æ –±–µ—Ä—É —Å–∫–∞–ª–∫—É/—Å–∫–æ–≤–æ—Ä–æ–¥—É –∏ –∏–¥—É –Ω–∞ —Ä–∞–∑–≤–µ–¥–∫—É." },
        { points: 2, text: "–±) –ì—Ä–æ–º–∫–æ –∫–∞—à–ª—è—é, —á—Ç–æ–±—ã –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å: ¬´–Ø —Ç—É—Ç, —è –≤—Å—ë —Å–ª—ã—à—É!¬ª." },
        { points: 1, text: "–≤) –ü—Ä—è—á—É –≥–æ–ª–æ–≤—É –ø–æ–¥ –æ–¥–µ—è–ª–æ –∏ –º–æ–ª—é—Å—å, —á—Ç–æ–±—ã —ç—Ç–æ –±—ã–ª –∫–æ—Ç." },
        { points: 0, text: "–≥) –ö—Ä–∏—á—É –∂–µ–Ω–µ: ¬´–î–æ—Ä–æ–≥–∞—è, —Ç–∞–º –∫—Ç–æ-—Ç–æ –µ—Å—Ç—å, —Å—Ö–æ–¥–∏, –ø–æ—Å–º–æ—Ç—Ä–∏!¬ª." }
      ]
    },
    {
      img: "images/03.png",
      text: "3. –ö–∞–∫–æ–µ –æ—Ä—É–∂–∏–µ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å –≤ —Å–ª—É—á–∞–µ –∑–æ–º–±–∏-–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å–∞?",
      answers: [
        { points: 3, text: "–∞) –ë–µ–Ω–∑–æ–ø–∏–ª–∞. –®—É–º–Ω–æ, —Å—Ç—Ä–∞—à–Ω–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ." },
        { points: 2, text: "–±) –õ—É–∫ –∏ —Å—Ç—Ä–µ–ª—ã. –Ø –∂–µ —ç–ª—å—Ñ –≤ –¥—É—à–µ." },
        { points: 1, text: "–≤) –ü—ã–ª–µ—Å–æ—Å. –í–¥—Ä—É–≥ –æ–Ω–∏ –±–æ—è—Ç—Å—è —É–±–æ—Ä–∫–∏?" },
        { points: 0, text: "–≥) –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞. –ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∞—Ä—é –µ–µ –∑–æ–º–±–∏, –ø—É—Å—Ç—å –∏–¥—É—Ç –≤ ¬´–ú.–í–∏–¥–µ–æ¬ª." }
      ]
    },
    {
      img: "images/04.png",
      text: "4. –£ —Ç–µ–±—è –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å –ø–∏–≤–æ. –î–æ –∑–∞–∫—Ä—ã—Ç–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ 5 –º–∏–Ω—É—Ç. –¢–≤–æ—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è?",
      answers: [
        { points: 3, text: "–∞) –≠—Ç–æ –∂–µ –¥–µ–ª–æ —á–µ—Å—Ç–∏! –ù–∞–¥–µ–≤–∞—é —à—Ç–∞–Ω—ã-–º–≥–Ω–æ–≤–µ–Ω–∫–∏ –∏ –ª–µ—á—É —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é —Å–≤–µ—Ç–∞." },
        { points: 2, text: "–±) –®–ª—é –≥–æ–Ω—Ü–∞ ‚Äî –¥—Ä—É–≥–∞ –∏–∑ —Å–æ—Å–µ–¥–Ω–µ–≥–æ –ø–æ–¥—ä–µ–∑–¥–∞." },
        { points: 1, text: "–≤) –ü—Ä–æ–≤–µ—Ä—è—é ¬´—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–∞—Å—ã¬ª. –ü–∏–≤–∞ –Ω–µ—Ç? –ü—å–µ–º —Ä–∞—Å—Å–æ–ª." },
        { points: 0, text: "–≥) –õ–æ–∂—É—Å—å —Å–ø–∞—Ç—å. –¢—Ä–µ–∑–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ ‚Äî –≤—ã–±–æ—Ä —Å–∏–ª—å–Ω—ã—Ö." }
      ]
    },
    {
      img: "images/05.png",
      text: "5. –ö–∞–∫ —Ç—ã –∑–∞—â–∏—â–∞–µ—à—å —Å–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Ç—Ä–æ—Ñ–µ–π ‚Äî –¥–∏–≤–∞–Ω?",
      answers: [
        { points: 3, text: "–∞) –Ø –Ω–∏–∫–æ–≥–æ –Ω–µ –ø—É—Å–∫–∞—é –Ω–∞ –¥–∏–≤–∞–Ω. –≠—Ç–æ –º–æ—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è." },
        { points: 2, text: "–±) –î–µ–ª—é –¥–∏–≤–∞–Ω —Å –ª—é–±–∏–º–æ–π –¥–µ–≤—É—à–∫–æ–π/–∫–æ—Ç–æ–º, –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–ø—Ä–æ—Å—è—Ç." },
        { points: 1, text: "–≤) –Ø —Å–ø–ª—é –Ω–∞ –¥–∏–≤–∞–Ω–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–µ–Ω—è –ø—Ä–æ–≥–Ω–∞–ª–∏ —Å –∫—Ä–æ–≤–∞—Ç–∏." },
        { points: 0, text: "–≥) –î–∏–≤–∞–Ω –∑–∞—â–∏—â–∞–µ—Ç –º–µ–Ω—è. –í –Ω–µ–º –º–æ—è —Å–∏–ª–∞ –∏ –º–æ–π –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫." }
      ]
    }
  ];

  // –ö–∞—Ä—Ç–∏–Ω–∫–∏ –∏—Ç–æ–≥–æ–≤ (—Å–≤–æ–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞). –î–æ–±–∞–≤–∏—à—å –ø–æ–∑–∂–µ.
  // –ú–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å –∫–∞–∫ —Ö–æ—á–µ—à—å, –≥–ª–∞–≤–Ω–æ–µ –ø–æ–ø—Ä–∞–≤–∏—Ç—å —Ç—É—Ç.
  const resultImages = {
    TOP: "images/res_top.png",     // 10+ –±–∞–ª–ª–æ–≤
    MID: "images/res_mid.png",     // 5‚Äì9 –±–∞–ª–ª–æ–≤
    LOW: "images/res_low.png",     // 1‚Äì4 –±–∞–ª–ª–∞
    ZERO:"images/res_zero.png"     // 0 –±–∞–ª–ª–æ–≤
  };

  // –ò—Ç–æ–≥–∏ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º
  const outcomes = [
    {
      id: "TOP",
      min: 10,
      max: 15,
      title: "–¢–∞–Ω–∫–∏—Å—Ç-–¥–µ—Å–∞–Ω—Ç–Ω–∏–∫-—Å–ø–µ—Ü–Ω–∞–∑ üõ°Ô∏èüî•",
      text: `
        –¢—ã ‚Äî —Å—É–ø–µ—Ä-–∑–∞—â–∏—Ç–Ω–∏–∫! –¢–≤–æ—è –±–æ–µ–≤–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å ‚Ññ1 –≤—Å–µ–≥–¥–∞.
        –†–æ–¥–∏–Ω–∞ —Å–ø–∏—Ç —Å–ø–æ–∫–æ–π–Ω–æ, –∞ –∫–æ—Ç–∏–∫–∏ ‚Äî –Ω–∞ —Ç–≤–æ–µ–π –≥—Ä—É–¥–∏.
        <br><br>
        –¢—ã –∑–∞–º–µ–Ω–∏—à—å –∫–æ–ª–µ—Å–æ, –ø—Ä–∏–±—å—ë—à—å –ø–æ–ª–∫—É –∏ –ø–æ–±–µ–¥–∏—à—å —Ç–∞—Ä–∞–∫–∞–Ω–∞ —Ç–∞–ø–∫–æ–º —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏.
      `
    },
    {
      id: "MID",
      min: 5,
      max: 9,
      title: "–ü–∞—Ä—Ç–∏–∑–∞–Ω-–ø–æ–¥–ø–æ–ª—å—â–∏–∫ üå≤üïµÔ∏è",
      text: `
        –í —Ç—ã–ª—É –≤—Ä–∞–≥–∞ —Ç—ã –Ω–µ –ø—Ä–æ–ø–∞–¥—ë—à—å! –í–Ω–µ–∑–∞–ø–Ω–∞—è –∞—Ç–∞–∫–∞ –º–æ–∂–µ—Ç –∑–∞—Å—Ç–∞—Ç—å —Ç–µ–±—è –≤—Ä–∞—Å–ø–ª–æ—Ö,
        –Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å –≤—Ä–µ–º—è –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è (–Ω–∞–π—Ç–∏ –∑–∞—Ä—è–¥–∫—É –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –ø–ª–µ–¥), —Ç—ã –≥–æ—Ä—ã —Å–≤–µ—Ä–Ω—ë—à—å.
        <br><br>
        –ì–ª–∞–≤–Ω–æ–µ ‚Äî —á—Ç–æ–±—ã –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ.
      `
    },
    {
      id: "LOW",
      min: 1,
      max: 4,
      title: "–ó–∞—â–∏—Ç–Ω–∏–∫ ¬´—Ç—ã–ª–æ–≤—ã—Ö –∫—Ä–µ–ø–æ—Å—Ç–µ–π¬ª üè†üç™",
      text: `
        –¢–≤–æ—è –æ—Å–Ω–æ–≤–Ω–∞—è –º–∏—Å—Å–∏—è ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–∏—Ä –∏ —É—é—Ç. –¢—ã –¥–∏–ø–ª–æ–º–∞—Ç.
        –ó–∞—á–µ–º –≤–æ–µ–≤–∞—Ç—å, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è? –ò–ª–∏ —Å–¥–µ–ª–∞—Ç—å –≤–∏–¥, —á—Ç–æ —Ç–µ–±—è –Ω–µ—Ç –¥–æ–º–∞.
        <br><br>
        –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –∫—Ç–æ-—Ç–æ –∂–µ –¥–æ–ª–∂–µ–Ω —Å–ª–µ–¥–∏—Ç—å, —á—Ç–æ–±—ã –ø–µ—á–µ–Ω—å–µ –≤ –¥–æ–º–µ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏–ª–æ—Å—å.
      `
    },
    {
      id: "ZERO",
      min: 0,
      max: 0,
      title: "–ü–æ—á—ë—Ç–Ω—ã–π –≥—Ä—É–∑ üì¶üòÑ",
      text: `
        –¢—ã –Ω–µ –∑–∞—â–∏—Ç–Ω–∏–∫, —Ç—ã ‚Äî ¬´–æ–±–æ—Ä–æ–Ω—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç¬ª.
        –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –¥—Ä—É–≥–∏—Ö –Ω–∞ –ø–æ–¥–≤–∏–≥–∏ (–Ω–æ—Å–∏—Ç—å —Ç–µ–±–µ —á–∞–π –∏ —É–∫—Ä—ã–≤–∞—Ç—å –æ–¥–µ—è–ª–∫–æ–º).
        <br><br>
        –° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –µ–¥–∏–Ω–∏—Ü–∞!
      `
    }
  ];

  // --- STATE ---
  let totalPoints = 0;
  let currentIndex = -1; // -1 intro, 0..n-1 questions, n result
  const chosenPoints = []; // —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–ª "–Ω–∞–∑–∞–¥"

  // --- UI ---
  const pagesRoot = document.getElementById("pages");
  const stepLabel = document.getElementById("stepLabel");
  const progressBar = document.getElementById("progressBar");
  const navHint = document.getElementById("navHint");

  const introPage = document.getElementById("page-intro");
  const resultPage = document.getElementById("page-result");
  const resultTitle = document.getElementById("resultTitle");
  const resultText = document.getElementById("resultText");
  const resultImg = document.getElementById("resultImg");
  const resultImgBox = document.getElementById("resultImgBox");

  function buildQuestionPages(){
    pagesRoot.innerHTML = "";
    questions.forEach((q, idx) => {
      const section = document.createElement("section");
      section.className = "page";
      section.id = `page-q${idx}`;

      const imgBox = document.createElement("div");
      imgBox.className = "imgbox";

      const img = document.createElement("img");
      img.src = q.img;
      img.alt = `–ö–∞—Ä—Ç–∏–Ω–∫–∞ –∫ –≤–æ–ø—Ä–æ—Å—É ${idx+1}`;
      img.onerror = function(){
        img.style.display = "none";
        imgBox.textContent = `üñºÔ∏è –î–æ–±–∞–≤—å –∫–∞—Ä—Ç–∏–Ω–∫—É: ${q.img}`;
        imgBox.style.color = "rgba(255,255,255,.45)";
      };
      imgBox.appendChild(img);

      const title = document.createElement("h2");
      title.className = "qtitle";
      title.textContent = q.text;

      const answers = document.createElement("div");
      answers.className = "answers";

      q.answers.forEach(a => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = a.text;
        btn.addEventListener("click", () => chooseAnswer(a.points));
        answers.appendChild(btn);
      });

      const actions = document.createElement("div");
      actions.className = "actions";

      const backBtn = document.createElement("button");
      backBtn.className = "ghost";
      backBtn.type = "button";
      backBtn.textContent = "–ù–∞–∑–∞–¥";
      backBtn.addEventListener("click", goBack);

      actions.appendChild(backBtn);

      section.appendChild(imgBox);
      section.appendChild(title);
      section.appendChild(answers);
      section.appendChild(actions);

      pagesRoot.appendChild(section);
    });
  }

  function showPageByIndex(idx){
    currentIndex = idx;
    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));

    if(idx === -1){
      introPage.classList.add("active");
      stepLabel.textContent = "–°—Ç–∞—Ä—Ç";
      navHint.textContent = "–ù–∞–∂–º–∏ ¬´–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç¬ª";
      progressBar.style.width = "0%";
      return;
    }

    if(idx >= 0 && idx < questions.length){
      document.getElementById(`page-q${idx}`).classList.add("active");
      stepLabel.textContent = `–í–æ–ø—Ä–æ—Å ${idx+1} –∏–∑ ${questions.length}`;
      navHint.textContent = "–í—ã–±–µ—Ä–∏ –æ—Ç–≤–µ—Ç";
      progressBar.style.width = `${Math.round((idx)/questions.length*100)}%`;
      return;
    }

    resultPage.classList.add("active");
    stepLabel.textContent = "–ò—Ç–æ–≥";
    navHint.textContent = "–ú–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑";
    progressBar.style.width = "100%";
  }

  function chooseAnswer(points){
    const qIdx = currentIndex;
    if(qIdx < 0 || qIdx >= questions.length) return;

    // –µ—Å–ª–∏ –º–µ–Ω—è–ª–∏ –æ—Ç–≤–µ—Ç (–ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞), –≤—ã—á—Ç–µ–º —Å—Ç–∞—Ä—ã–µ –±–∞–ª–ª—ã
    if(typeof chosenPoints[qIdx] === "number"){
      totalPoints -= chosenPoints[qIdx];
    }

    chosenPoints[qIdx] = points;
    totalPoints += points;

    if(qIdx === questions.length - 1){
      showResult();
    } else {
      showPageByIndex(qIdx + 1);
    }
  }

  function goBack(){
    if(currentIndex === -1) return;

    if(currentIndex >= questions.length){
      showPageByIndex(questions.length - 1);
      return;
    }

    if(currentIndex === 0){
      showPageByIndex(-1);
      return;
    }

    showPageByIndex(currentIndex - 1);
  }

  function getOutcomeByPoints(p){
    // –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Ç–æ—á–Ω—ã–π 0, –ø–æ—Ç–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω—ã
    for(const o of outcomes){
      if(p >= o.min && p <= o.max) return o;
    }
    // fallback (–Ω–µ –¥–æ–ª–∂–µ–Ω —Å–ª—É—á–∏—Ç—å—Å—è)
    return outcomes[outcomes.length - 1];
  }

  function showResult(){
    const outcome = getOutcomeByPoints(totalPoints);

    resultTitle.textContent = outcome.title;
    resultText.innerHTML = outcome.text;

    // –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏—Ç–æ–≥
    const imgPath = resultImages[outcome.id] || "";
    resultImgBox.style.color = "rgba(255,255,255,.35)";
    resultImg.style.display = "block";
    resultImg.src = imgPath;
    resultImg.alt = `–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: ${outcome.title}`;

    resultImg.onerror = function(){
      resultImg.style.display = "none";
      resultImgBox.textContent = imgPath
        ? `üñºÔ∏è –î–æ–±–∞–≤—å –∫–∞—Ä—Ç–∏–Ω–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: ${imgPath}`
        : "üñºÔ∏è –î–æ–±–∞–≤—å –∫–∞—Ä—Ç–∏–Ω–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞";
      resultImgBox.style.color = "rgba(255,255,255,.45)";
    };

    showPageByIndex(questions.length);
  }

  function resetAll(){
    totalPoints = 0;
    chosenPoints.length = 0;

    // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–µ—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ fallback-—Ç–µ–∫—Å—Ç)
    resultImgBox.textContent = "";
    resultImgBox.appendChild(resultImg);

    showPageByIndex(-1);
  }

  document.getElementById("startBtn").addEventListener("click", () => showPageByIndex(0));
  document.getElementById("restartBtn").addEventListener("click", resetAll);

  document.getElementById("shareBtn").addEventListener("click", async () => {
    const url = window.location.href;
    try{
      await navigator.clipboard.writeText(url);
      alert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞! ‚úÖ");
    }catch(e){
      prompt("–°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –≤—Ä—É—á–Ω—É—é:", url);
    }
  });

  // init
  buildQuestionPages();
  showPageByIndex(-1);
</script>
</body>
</html>

